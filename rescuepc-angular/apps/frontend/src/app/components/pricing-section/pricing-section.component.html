<section id="pricing" class="py-20 relative overflow-hidden">
  <!-- Enhanced Background Elements -->
  <div class="absolute inset-0">
    <div class="absolute top-0 left-1/4 w-96 h-96 bg-blue-500/5 rounded-full blur-3xl animate-float"></div>
    <div
      class="absolute bottom-0 right-1/4 w-96 h-96 bg-purple-500/5 rounded-full blur-3xl animate-float"
      style="animation-delay: 2s"
    ></div>
    <div
      class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-green-500/5 rounded-full blur-3xl animate-float"
      style="animation-delay: 4s"
    ></div>
  </div>

  <div class="container mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
    <!-- Enhanced Header -->
    <div
      class="text-center mb-16 transition-all duration-1000"
      [class]="isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-10'"
    >
      <div class="flex items-center justify-center gap-3 mb-6">
        <i class="fas fa-award w-8 h-8 text-yellow-400"></i>
        <h2 class="text-4xl md:text-5xl lg:text-6xl font-black text-white gradient-text">
          Choose Your License
        </h2>
        <i class="fas fa-award w-8 h-8 text-yellow-400"></i>
      </div>
      <p class="text-xl md:text-2xl text-white/90 max-w-4xl mx-auto leading-relaxed">
        Professional-grade computer repair toolkit with
        <strong class="text-white">military-grade security</strong> and
        <strong class="text-white">enterprise features</strong>. Trusted by Fortune 500
        companies worldwide.
      </p>
    </div>

    <!-- Enhanced Pricing Cards -->
    <div
      class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-8 mb-16 transition-all duration-1000 delay-300"
      [class]="isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-10'"
    >
      <div
        *ngFor="let plan of plans; let i = index"
        class="pricing-card relative group"
        [class.popular]="plan.popular"
        [style.animation-delay]="(i * 200) + 'ms'"
      >
        <!-- Popular Badge -->
        <div *ngIf="plan.popular" class="absolute -top-4 left-1/2 transform -translate-x-1/2">
          <div class="bg-gradient-to-r from-yellow-400 to-orange-500 text-black px-6 py-2 rounded-full font-bold text-sm flex items-center gap-2">
            <i class="fas fa-star w-4 h-4"></i>
            MOST POPULAR
          </div>
        </div>

        <!-- Plan Header -->
        <div class="text-center mb-8">
          <div
            class="w-20 h-20 bg-gradient-to-br rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300"
            [class]="plan.color"
          >
            <i [class]="getIconClass(plan.icon) + ' w-10 h-10 text-white'"></i>
          </div>
          <h3 class="text-2xl font-black text-white mb-2">{{ plan.name }}</h3>
          <p class="text-white/70 text-base leading-relaxed">{{ plan.description }}</p>
        </div>

        <!-- Enhanced Pricing -->
        <div class="text-center mb-8">
          <div class="flex items-center justify-center gap-2 mb-2">
            <span class="text-4xl md:text-5xl font-black text-white">{{ plan.price }}</span>
            <span class="text-white/60 text-lg">/{{ plan.period }}</span>
          </div>
          <div *ngIf="plan.originalPrice" class="flex items-center justify-center gap-2">
            <span class="text-white/50 line-through text-lg">{{ plan.originalPrice }}</span>
            <span class="bg-green-500/20 text-green-300 px-3 py-1 rounded-full text-sm font-bold">
              SAVE {{ calculateSavings(plan.originalPrice, plan.price) }}%
            </span>
          </div>
        </div>

        <!-- Enhanced Features List -->
        <div class="space-y-4 mb-8">
          <div
            *ngFor="let feature of plan.features; let featureIndex = index"
            class="flex items-start gap-3 group-hover:translate-x-2 transition-transform duration-300"
          >
            <div class="w-6 h-6 bg-green-500/20 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5">
              <i class="fas fa-check w-4 h-4 text-green-400"></i>
            </div>
            <span class="text-white/90 text-sm leading-relaxed">{{ feature }}</span>
          </div>
        </div>

        <!-- Enhanced CTA Button -->
        <button
          (click)="handlePurchase(plan.stripeLink)"
          class="w-full cta-button group relative overflow-hidden"
          [class]="plan.popular ? 'bg-gradient-to-r from-yellow-500 via-orange-500 to-red-500 hover:from-yellow-600 hover:via-orange-600 hover:to-red-600' : ''"
        >
          <div class="flex items-center justify-center gap-3">
            <i class="fas fa-crown w-5 h-5 group-hover:scale-110 transition-transform duration-300"></i>
            <span class="font-bold">Get {{ plan.name }}</span>
            <i class="fas fa-star w-5 h-5 group-hover:scale-110 transition-transform duration-300"></i>
          </div>
        </button>
      </div>
    </div>

    <!-- Enhanced Trust Indicators -->
    <div
      class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-12 transition-all duration-1000 delay-600"
      [class]="isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-10'"
    >
      <div
        *ngFor="let indicator of trustIndicators"
        class="glass-card text-center p-6 group hover:scale-105 transition-all duration-300"
      >
        <i [class]="getIconClass(indicator.icon) + ' w-8 h-8 text-blue-400 mx-auto mb-3 group-hover:scale-110 transition-transform duration-300'"></i>
        <h4 class="text-white font-bold text-lg mb-1">{{ indicator.text }}</h4>
        <p class="text-white/70 text-sm">{{ indicator.desc }}</p>
      </div>
    </div>

    <!-- Enhanced Comparison Table -->
    <div
      class="mb-12 transition-all duration-1000 delay-900"
      [class]="isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-10'"
    >
      <h3 class="text-3xl font-bold text-white text-center mb-8 gradient-text">
        Feature Comparison
      </h3>
      <div class="glass-card overflow-hidden">
        <div class="overflow-x-auto">
          <table class="w-full">
            <thead>
              <tr class="border-b border-white/10">
                <th class="text-left p-6 text-white font-bold">Feature</th>
                <th class="text-center p-6 text-white font-bold">Basic</th>
                <th class="text-center p-6 text-white font-bold">Professional</th>
                <th class="text-center p-6 text-white font-bold bg-gradient-to-r from-yellow-500/20 to-orange-500/20">
                  Enterprise
                </th>
                <th class="text-center p-6 text-white font-bold">Government</th>
                <th class="text-center p-6 text-white font-bold">Lifetime</th>
              </tr>
            </thead>
            <tbody>
              <tr
                *ngFor="let row of comparisonRows"
                class="border-b border-white/5 hover:bg-white/5 transition-colors duration-200"
              >
                <td class="p-6 text-white font-medium">{{ row.feature }}</td>
                <td class="p-6 text-center text-white/70">{{ row.basic }}</td>
                <td class="p-6 text-center text-white/70">{{ row.pro }}</td>
                <td class="p-6 text-center text-white font-bold bg-gradient-to-r from-yellow-500/10 to-orange-500/10">
                  {{ row.enterprise }}
                </td>
                <td class="p-6 text-center text-white/70">{{ row.government }}</td>
                <td class="p-6 text-center text-white/70">{{ row.lifetime }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Enhanced FAQ Section -->
    <div
      class="transition-all duration-1000 delay-1200"
      [class]="isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-10'"
    >
      <h3 class="text-3xl font-bold text-white text-center mb-8 gradient-text">
        Frequently Asked Questions
      </h3>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div *ngFor="let faq of faqs" class="faq-item group">
          <h4 class="text-white font-bold text-lg mb-3 group-hover:text-blue-300 transition-colors duration-300">
            {{ faq.question }}
          </h4>
          <p class="text-white/70 leading-relaxed">{{ faq.answer }}</p>
        </div>
      </div>
    </div>
  </div>
</section> 